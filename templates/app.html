{% macro langselector(position, langnum, lang, langlist, topfilt) -%}
<div style="float:{{position}};"><span>Language {{langnum}}:</span>
    <select class="lang" data-placeholder="Select a Language" name="lang{{langnum}}" onchange="this.form.submit()">
                            {% for curlang in langlist %}<option value="{{curlang}}"{% if curlang == lang %} selected="selected"{% endif %}>{{curlang}}</option>{% endfor %}
                        </select>
                        <span>filter:</span><span>top</span>
                        <input type="checkbox" onchange="this.form.submit()" name="l{{langnum}}top" value="true" {% if topfilt %}checked{% endif %}>
                    </div>
{%- endmacro %}

{% extends "base.html" %}
{% block styles %}
{% if hide %}<link rel=stylesheet type=text/css href='{{url_for('static', filename='onecol.css')}}'>
{% else %}<link rel=stylesheet type=text/css href='{{url_for('static', filename='twocol.css')}}'>{% endif %}
<link rel=stylesheet type=text/css href='{{url_for('static', filename='espressoMod.css')}}'>
{% endblock %}
{% block main %}
        <form action="#">
            <div id=descrwrapper class=whitebg>
                <div id=langwrapper class=blackbg>
                    {{ langselector("left", 1, lang1, lang1list, l1top) }}
                    {{ langselector("right", 2, lang2, lang2list, l2top) }}
                </div>
                <div id=descr class="blackbg">
                    <div style="text-align:center">
                            <span>Task:</span>
                            <select class="tasks"  data-placeholder="Select a Task" name="task" onchange="this.form.submit()">
                            {% for t in tasklist %}<option value="{{t}}" {% if t == task %}selected="selected"{% endif %}>{{t}}</option>{% endfor %}
                            </select>
                        {% if rclink %} <p><a href="{{rclink}}">RosettaCode entry</a></p> {% endif %}
                    </div>
                    {% if taskdesc %}<p>{{taskdesc|safe}}</p>{% endif %}
                </div>
            </div>
            <div id=col1 class=whitebg>
                <h3>{% if lang1 %}{{lang1}}{% else %}Select language{% endif %}</h3>
                <p>{{lang1code|safe}}</p>
            </div>
            <div id=col2 class=whitebg>
                <h3>{% if lang2 %}{{lang2}}{% else %}Select language{% endif %}</h3>
                <p>{{lang2code|safe}}</p>
            </div>
        </form>
{% endblock %}


